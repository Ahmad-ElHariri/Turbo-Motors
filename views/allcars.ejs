<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>All Cars</title>
  <link rel="stylesheet" href="/css/common_styles.css" />
  <link rel="stylesheet" href="/css/allcarsfull.css" />
</head>

<body>
  <!-- NAVBAR -->
  <nav>
    <div class="logo">Turbo Motors</div>
    <ul class="nav-links">
      <li><a href="/home">Home</a></li>
      <li><a href="/allcars">All Cars</a></li>
      <li><a href="/about">About Us</a></li>
      <li><a href="/contact">Contact</a></li>
      <% if (user) { %>
        <li><a href="/logout" class="btn">Logout</a></li>
        <li><a href="#" class="btn">Hi, <%= user.name %></a></li>
      <% } else { %>
        <li><a href="/login" class="btn">Sign In</a></li>
        <li><a href="/signup" class="btn">Sign Up</a></li>
      <% } %>
    </ul>
  </nav>

  <!-- MAIN CONTENT -->
  <main>
    <div class="allcars-container">
      <h1 class="section-title">All Cars</h1>
    </div>
    <div class="car-grid">
      <% cars.forEach(car => { %> <!-- Loop through cars array -->
        <div class="car-box" onclick="openModal(this)"
          data-id="<%= car._id %>"
          data-name="<%= car.brand %> <%= car.model %>"
          data-type="<%= car.group %>"
          data-engine="<%= car.specs.engineSize %>"
          data-doors="<%= car.specs.doors %>"
          data-passengers="<%= car.specs.passengers %>"
          data-fuel="<%= car.specs.fuelType %>"
          data-gearbox="<%= car.specs.gearbox %>"
          data-ac="<%= car.specs.hasAC ? 'Yes' : 'No' %>"
          data-img="<%= car.image %>">
          
          <img src="/images/<%= car.image %>" alt="<%= car.brand %>">
          <p class="car-name"><%= car.brand %> <%= car.model %></p>
          
          <!-- Display car details (if available) -->
          <div class="car-info">
            <p><strong>Type:</strong> <%= car.group %></p>
            <p><strong>Engine Size:</strong> <%= car.specs.engineSize %> cc</p>
            <p><strong>Doors:</strong> <%= car.specs.doors %></p>
            <p><strong>Passengers:</strong> <%= car.specs.passengers %></p>
            <p><strong>Fuel Type:</strong> <%= car.specs.fuelType %></p>
            <p><strong>Gearbox:</strong> <%= car.specs.gearbox %></p>
            <p><strong>AC:</strong> <%= car.specs.hasAC ? 'Yes' : 'No' %></p>
          </div>
    
          <!-- Availability status line -->
          <div class="car-status <%= car.available ? 'available' : 'unavailable' %>">
            <%= car.available ? 'Available' : 'Reserved' %>
          </div>
    
        </div>
      <% }); %> <!-- End of loop -->
    </div>
  </main>

  <!-- FOOTER -->
  <footer>
    <div class="footer-content">
      <p>&copy; 2025 Turbo Motors. All Rights Reserved.</p>
      <p>Follow us on social media:</p>
      <div class="social-icons">
        <a href="#"><i class="fab fa-facebook"></i></a>
        <a href="#"><i class="fab fa-twitter"></i></a>
        <a href="#"><i class="fab fa-instagram"></i></a>
        <a href="#"><i class="fab fa-linkedin"></i></a>
      </div>
    </div>
  </footer>

</body>
</html>
